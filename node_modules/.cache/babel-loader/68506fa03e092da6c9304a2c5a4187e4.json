{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\djebr\\\\Documents\\\\ProjetPPE\\\\src\\\\components\\\\Graph\\\\Graph.js\";\nimport React, { Component } from \"react\";\nimport \"./Graph.css\";\nimport ReactApexChart from \"react-apexcharts\";\nimport styled, { keyframes } from 'styled-components';\nimport { fadeIn } from 'react-animations';\nconst bounceAnimation = keyframes`${fadeIn}`;\nconst BouncyDiv = styled.div`\n  animation: 1s ${bounceAnimation};\n`;\n_c = BouncyDiv;\n\nfunction numStr(a, b) {\n  a = '' + a;\n  b = b || ' ';\n  let c = '',\n      d = 0;\n\n  while (a.match(/^0[0-9]/)) {\n    a = a.substr(1);\n  }\n\n  for (let i = a.length - 1; i >= 0; i--) {\n    c = d !== 0 && d % 3 === 0 ? a[i] + b + c : a[i] + c;\n    d++;\n  }\n\n  return c;\n}\n\nclass Graph extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Countries: [],\n      series: [5, 50, 70],\n      options: {\n        chart: {\n          width: 380,\n          type: 'pie'\n        },\n        yaxis: {\n          labels: {\n            formatter: function (value) {\n              return numStr(value, \".\");\n            }\n          }\n        },\n        labels: ['Nombre de Cas', 'Nombre de Morts', 'Nombre de Guéris'],\n        responsive: [{\n          options: {\n            chart: {\n              width: 500\n            },\n            legend: {\n              show: false,\n              horizontalAlign: 'right'\n            }\n          }\n        }],\n        colors: ['#1b262c', '#0f4c75', '#3282b8']\n      }\n    };\n  }\n\n  componentDidMount() {\n    fetch('https://api.covid19api.com/summary').then(response => {\n      return response.json();\n    }).then(result => {\n      this.setState(result); // console.log(result);\n\n      this.setState({\n        series: [this.state.Countries[59].TotalConfirmed, this.state.Countries[59].TotalDeaths, this.state.Countries[59].TotalRecovered]\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    // Utilisation classique (pensez bien à comparer les props) :\n    if (this.props.name !== prevProps.name) {\n      // Vérifie si le pays a été modifié (valeur par défaut France)\n      let NumPaysSaisi = 59; // ID France\n\n      for (let i = 0; i < this.state.Countries.length; i++) {\n        // Boucle for qui permet d'assosier le nom du pays à sa position dans le json de l'api\n        if (this.props.name === this.state.Countries[i].Country) {\n          //alert(`position : ${i}, pays : ${this.state.Countries[i].Country}`);\n          NumPaysSaisi = i;\n        }\n      }\n\n      fetch('https://api.covid19api.com/summary').then(response => {\n        return response.json();\n      }).then(result => {\n        this.setState(result); // console.log(result);\n\n        this.setState({\n          series: [this.state.Countries[NumPaysSaisi].TotalConfirmed, this.state.Countries[NumPaysSaisi].TotalDeaths, this.state.Countries[NumPaysSaisi].TotalRecovered]\n        });\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(BouncyDiv, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"mb-5\",\n            children: [\"\\xC9pid\\xE9mie en \", this.props.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(ReactApexChart, {\n            options: this.state.options,\n            series: this.state.series,\n            type: \"pie\",\n            width: 420\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"text-muted mt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"center\", {\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                children: \"Donn\\xE9es issues du gouvernement\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Graph;\n\nvar _c;\n\n$RefreshReg$(_c, \"BouncyDiv\");","map":{"version":3,"sources":["C:/Users/djebr/Documents/ProjetPPE/src/components/Graph/Graph.js"],"names":["React","Component","ReactApexChart","styled","keyframes","fadeIn","bounceAnimation","BouncyDiv","div","numStr","a","b","c","d","match","substr","i","length","Graph","constructor","props","state","Countries","series","options","chart","width","type","yaxis","labels","formatter","value","responsive","legend","show","horizontalAlign","colors","componentDidMount","fetch","then","response","json","result","setState","TotalConfirmed","TotalDeaths","TotalRecovered","componentDidUpdate","prevProps","name","NumPaysSaisi","Country","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./Graph.css\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport styled, { keyframes } from 'styled-components';\r\nimport { fadeIn } from 'react-animations';\r\n\r\n\r\nconst bounceAnimation = keyframes`${fadeIn}`;\r\n\r\nconst BouncyDiv = styled.div`\r\n  animation: 1s ${bounceAnimation};\r\n`;\r\nfunction numStr(a, b) {\r\n    a = '' + a;\r\n    b = b || ' ';\r\n    let c = '',\r\n        d = 0;\r\n    while (a.match(/^0[0-9]/)) {\r\n        a = a.substr(1);\r\n    }\r\n    for (let i = a.length - 1; i >= 0; i--) {\r\n        c = (d !== 0 && d % 3 === 0) ? a[i] + b + c : a[i] + c;\r\n        d++;\r\n    }\r\n    return c;\r\n}\r\n\r\nclass Graph extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            Countries: [],\r\n            series: [5, 50, 70],\r\n            options: {\r\n                chart: {\r\n                    width: 380,\r\n                    type: 'pie',\r\n                },\r\n                yaxis: {\r\n                    labels: {\r\n                        formatter: function (value) {\r\n                            return numStr(value, \".\");\r\n                        }\r\n                    },\r\n                },\r\n                labels: ['Nombre de Cas', 'Nombre de Morts', 'Nombre de Guéris'],\r\n                responsive: [{\r\n                    options: {\r\n                        chart: {\r\n                            width: 500\r\n                        },\r\n                        legend: {\r\n                            show: false,\r\n                            horizontalAlign: 'right',\r\n                        }\r\n                    }\r\n                }],\r\n                colors: ['#1b262c', '#0f4c75', '#3282b8'],\r\n\r\n            },\r\n\r\n        };\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        fetch('https://api.covid19api.com/summary')\r\n            .then((response) => {\r\n                return response.json()\r\n            })\r\n\r\n            .then((result) => {\r\n                this.setState(result);\r\n                // console.log(result);\r\n\r\n                this.setState({\r\n                    series:\r\n                        [this.state.Countries[59].TotalConfirmed, this.state.Countries[59].TotalDeaths, this.state.Countries[59].TotalRecovered]\r\n\r\n                })\r\n            })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        // Utilisation classique (pensez bien à comparer les props) :\r\n        if (this.props.name !== prevProps.name) { // Vérifie si le pays a été modifié (valeur par défaut France)\r\n            let NumPaysSaisi = 59; // ID France\r\n            for (let i = 0; i < this.state.Countries.length; i++) { // Boucle for qui permet d'assosier le nom du pays à sa position dans le json de l'api\r\n                if (this.props.name === this.state.Countries[i].Country) {\r\n                    //alert(`position : ${i}, pays : ${this.state.Countries[i].Country}`);\r\n                    NumPaysSaisi = i;\r\n                }\r\n\r\n            }\r\n            fetch('https://api.covid19api.com/summary')\r\n                .then((response) => {\r\n                    return response.json()\r\n                })\r\n\r\n                .then((result) => {\r\n                    this.setState(result);\r\n                    // console.log(result);\r\n\r\n                    this.setState({\r\n                        series:\r\n                            [this.state.Countries[NumPaysSaisi].TotalConfirmed, this.state.Countries[NumPaysSaisi].TotalDeaths, this.state.Countries[NumPaysSaisi].TotalRecovered]\r\n\r\n                    })\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <BouncyDiv>\r\n            <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                    <div>\r\n                    </div>\r\n                    <h5 className=\"mb-5\">Épidémie en {this.props.name}</h5>\r\n                    <ReactApexChart options={this.state.options} series={this.state.series} type=\"pie\" width={420} />\r\n                    <div class=\"text-muted mt-4\">\r\n                        <center><small>Données issues du gouvernement</small></center>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            </BouncyDiv>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Graph;\r\n\r\n"]},"metadata":{},"sourceType":"module"}