{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\djebr\\\\Documents\\\\ProjetPPE\\\\src\\\\components\\\\SearchBar\\\\Searchbar.js\";\nimport React, { Component } from 'react';\nimport \"./Searchbar.css\";\nimport Autosuggest from 'react-autosuggest';\nimport PostData from './data.json';\n\nfunction escapeRegexCharacters(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nfunction getSuggestions(value) {\n  const escapedValue = escapeRegexCharacters(value.trim());\n\n  if (escapedValue === '') {\n    return [];\n  }\n\n  const regex = new RegExp('^' + escapedValue, 'i');\n  return PostData.filter(PostData => regex.test(PostData.tags));\n}\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion.Country;\n}\n\nfunction renderSuggestion(suggestion) {\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: suggestion.Country\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n}\n\nclass Searchbar extends Component {\n  constructor() {\n    super();\n\n    this.onChange = (event, {\n      newValue,\n      method\n    }) => {\n      this.setState({\n        value: newValue\n      });\n    };\n\n    this.onSuggestionsFetchRequested = ({\n      value\n    }) => {\n      this.setState({\n        suggestions: getSuggestions(value)\n      });\n    };\n\n    this.onSuggestionsClearRequested = () => {\n      this.setState({\n        suggestions: []\n      });\n    };\n\n    this.state = {\n      value: '',\n      suggestions: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    this.props.onNameFormSubmitted(this.state.value);\n    event.preventDefault();\n  }\n\n  render() {\n    const {\n      value,\n      suggestions\n    } = this.state;\n    const inputProps = {\n      placeholder: \"Saisir un Pays\",\n      value,\n      onChange: this.onChange\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group mb-5 justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Autosuggest, {\n            className: \"input-group\",\n            suggestions: suggestions,\n            onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\n            onSuggestionsClearRequested: this.onSuggestionsClearRequested,\n            getSuggestionValue: getSuggestionValue,\n            renderSuggestion: renderSuggestion,\n            inputProps: inputProps,\n            value: this.state.value,\n            onChange: this.state.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"city-input-button\",\n            className: \"btn btn-success rounded-0\",\n            type: \"submit\",\n            children: \"Actualiser\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Searchbar;","map":{"version":3,"sources":["C:/Users/djebr/Documents/ProjetPPE/src/components/SearchBar/Searchbar.js"],"names":["React","Component","Autosuggest","PostData","escapeRegexCharacters","str","replace","getSuggestions","value","escapedValue","trim","regex","RegExp","filter","test","tags","getSuggestionValue","suggestion","Country","renderSuggestion","Searchbar","constructor","onChange","event","newValue","method","setState","onSuggestionsFetchRequested","suggestions","onSuggestionsClearRequested","state","handleChange","bind","handleSubmit","target","props","onNameFormSubmitted","preventDefault","render","inputProps","placeholder"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport \"./Searchbar.css\";\r\nimport Autosuggest from 'react-autosuggest';\r\nimport PostData from './data.json';\r\n\r\nfunction escapeRegexCharacters(str) {\r\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n}\r\n\r\nfunction getSuggestions(value) {\r\n    const escapedValue = escapeRegexCharacters(value.trim());\r\n\r\n    if (escapedValue === '') {\r\n        return [];\r\n    }\r\n\r\n    const regex = new RegExp('^' + escapedValue, 'i');\r\n\r\n    return PostData.filter(PostData => regex.test(PostData.tags));\r\n}\r\n\r\nfunction getSuggestionValue(suggestion) {\r\n    return suggestion.Country;\r\n}\r\n\r\nfunction renderSuggestion(suggestion) {\r\n    return (\r\n        <span>{suggestion.Country}</span>\r\n    );\r\n}\r\n\r\n\r\nclass Searchbar extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            value: '',\r\n            suggestions: []\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n\r\n        this.setState({ value: event.target.value });\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        this.props.onNameFormSubmitted(this.state.value);\r\n        event.preventDefault();\r\n\r\n    }\r\n    onChange = (event, { newValue, method }) => {\r\n        this.setState({\r\n            value: newValue\r\n        });\r\n    };\r\n\r\n    onSuggestionsFetchRequested = ({ value }) => {\r\n        this.setState({\r\n            suggestions: getSuggestions(value)\r\n        });\r\n    };\r\n\r\n    onSuggestionsClearRequested = () => {\r\n        this.setState({\r\n            suggestions: []\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { value, suggestions } = this.state;\r\n        const inputProps = {\r\n            placeholder: \"Saisir un Pays\",\r\n            value,\r\n            onChange: this.onChange\r\n        };\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"input-group mb-5 justify-content-center\">\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <Autosuggest className=\"input-group\"\r\n                            suggestions={suggestions}\r\n                            onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n                            onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n                            getSuggestionValue={getSuggestionValue}\r\n                            renderSuggestion={renderSuggestion}\r\n                            inputProps={inputProps}\r\n                            value={this.state.value}\r\n                            onChange={this.state.handleChange}\r\n                        />\r\n                        <button id=\"city-input-button\" className=\"btn btn-success rounded-0\" type=\"submit\">Actualiser</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Searchbar;"]},"metadata":{},"sourceType":"module"}