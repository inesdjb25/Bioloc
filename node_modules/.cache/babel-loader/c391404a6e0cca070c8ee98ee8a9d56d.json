{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\djebr\\\\Documents\\\\ProjetPPE\\\\src\\\\components\\\\NbreCas\\\\NbreCas.js\";\nimport React, { Component } from 'react';\nimport \"./NbreCas.css\";\nimport styled, { keyframes } from 'styled-components';\nimport { fadeIn } from 'react-animations';\n\nclass NbreCas extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: {\n        image_url: \"\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    fetch(`https://world.openfoodfacts.org/category/${this.props.name}.json`) // fetch(`https://world.openfoodfacts.org/api/v0/product/${this.props.name}.json`)\n    .then(response => {\n      return response.json();\n    }).then(result => {\n      this.setState(result);\n      console.log(result);\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.name !== prevProps.name) {\n      fetch(`https://world.openfoodfacts.org/category/${this.props.name}.json`) // fetch(`https://world.openfoodfacts.org/api/v0/product/${this.props.name}.json`)\n      .then(response => {\n        this.setState({\n          products: {\n            image_small_url: this.state.product.image_url\n          }\n        });\n        return response.json();\n      }).then(result => {\n        this.setState(result);\n        console.log(result);\n      });\n    }\n  }\n\n  render() {\n    console.log(this.props.name);\n    console.log(this.state.product.image_thumb_url);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          class: \"fit-picture\",\n          src: this.state.product[0].image_url,\n          alt: \"Grapefruit slice atop a pile of other slices\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"card-title mt-2\",\n          children: this.state.product[0].generic_name_en\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default NbreCas;","map":{"version":3,"sources":["C:/Users/djebr/Documents/ProjetPPE/src/components/NbreCas/NbreCas.js"],"names":["React","Component","styled","keyframes","fadeIn","NbreCas","constructor","props","state","products","image_url","componentDidMount","fetch","name","then","response","json","result","setState","console","log","componentDidUpdate","prevProps","image_small_url","product","render","image_thumb_url","generic_name_en"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,eAAP;AACA,OAAOC,MAAP,IAAiBC,SAAjB,QAAkC,mBAAlC;AACA,SAASC,MAAT,QAAuB,kBAAvB;;AAKA,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;AAE5BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE;AACNC,QAAAA,SAAS,EAAE;AADL;AADD,KAAb;AAKH;;AACDC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,KAAK,CAAE,4CAA2C,KAAKL,KAAL,CAAWM,IAAK,OAA7D,CAAL,CACA;AADA,KAEKC,IAFL,CAEWC,QAAD,IAAc;AAChB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AAEH,KALL,EAOKF,IAPL,CAOWG,MAAD,IAAY;AACd,WAAKC,QAAL,CAAcD,MAAd;AACEE,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AAEL,KAXL;AAaH;;AACDI,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAE3B,QAAI,KAAKf,KAAL,CAAWM,IAAX,KAAoBS,SAAS,CAACT,IAAlC,EAAuC;AACtCD,MAAAA,KAAK,CAAE,4CAA2C,KAAKL,KAAL,CAAWM,IAAK,OAA7D,CAAL,CACA;AADA,OAECC,IAFD,CAEOC,QAAD,IAAc;AAChB,aAAKG,QAAL,CAAc;AACVT,UAAAA,QAAQ,EAAC;AACLc,YAAAA,eAAe,EAAC,KAAKf,KAAL,CAAWgB,OAAX,CAAmBd;AAD9B;AADC,SAAd;AAKA,eAAOK,QAAQ,CAACC,IAAT,EAAP;AAEH,OAVD,EAYCF,IAZD,CAYOG,MAAD,IAAY;AACd,aAAKC,QAAL,CAAcD,MAAd;AACEE,QAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACL,OAfD;AAgBA;AACH;;AAEDQ,EAAAA,MAAM,GAAG;AACNN,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWM,IAAvB;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,KAAL,CAAWgB,OAAX,CAAmBE,eAA/B;AAEC,wBAEI;AAAK,MAAA,EAAE,EAAC,MAAR;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACA;AAAK,UAAA,KAAK,EAAC,aAAX;AAAyB,UAAA,GAAG,EAAE,KAAKlB,KAAL,CAAWgB,OAAX,CAAmB,CAAnB,EAAsBd,SAApD;AAA+D,UAAA,GAAG,EAAC;AAAnE;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AAAI,UAAA,SAAS,EAAC,iBAAd;AAAA,oBACC,KAAKF,KAAL,CAAWgB,OAAX,CAAmB,CAAnB,EAAsBG;AADvB;AAAA;AAAA;AAAA;AAAA,gBAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAFJ;AAiBH;;AApE2B;;AAwEhC,eAAetB,OAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport \"./NbreCas.css\"\r\nimport styled, { keyframes } from 'styled-components';\r\nimport { fadeIn } from 'react-animations';\r\n\r\n\r\n\r\n\r\nclass NbreCas extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            products: {\r\n                image_url: \"\"\r\n            }\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        fetch(`https://world.openfoodfacts.org/category/${this.props.name}.json`)\r\n        // fetch(`https://world.openfoodfacts.org/api/v0/product/${this.props.name}.json`)\r\n            .then((response) => {\r\n                return response.json()\r\n                \r\n            })\r\n\r\n            .then((result) => {\r\n                this.setState(result);\r\n                  console.log(result);\r\n                 \r\n            })\r\n            \r\n    }\r\n    componentDidUpdate(prevProps) {\r\n\r\n       if (this.props.name !== prevProps.name){\r\n        fetch(`https://world.openfoodfacts.org/category/${this.props.name}.json`)\r\n        // fetch(`https://world.openfoodfacts.org/api/v0/product/${this.props.name}.json`)\r\n        .then((response) => {\r\n            this.setState({\r\n                products:{\r\n                    image_small_url:this.state.product.image_url\r\n                }\r\n            })\r\n            return response.json()\r\n            \r\n        })\r\n\r\n        .then((result) => {\r\n            this.setState(result);\r\n              console.log(result);\r\n        })\r\n       }\r\n    }\r\n\r\n    render() {\r\n       console.log(this.props.name);\r\n       console.log(this.state.product.image_thumb_url);\r\n\r\n        return (\r\n           \r\n            <div id=\"card\">\r\n                <div className=\"card-body\">\r\n                <img class=\"fit-picture\" src={this.state.product[0].image_url} alt=\"Grapefruit slice atop a pile of other slices\"/>\r\n                <h6 className=\"card-title mt-2\">\r\n                {this.state.product[0].generic_name_en}\r\n                </h6>\r\n\r\n\r\n                    \r\n                </div>\r\n\r\n              \r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default NbreCas;\r\n"]},"metadata":{},"sourceType":"module"}