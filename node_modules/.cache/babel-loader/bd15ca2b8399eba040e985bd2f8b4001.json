{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\ECE\\\\Bioloc\\\\src\\\\components\\\\Commercant\\\\Commercant.js\";\nimport React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { Modal } from 'react-bootstrap';\nimport styled, { keyframes } from 'styled-components';\nimport { fadeIn } from 'react-animations';\nconst bounceAnimation = keyframes`${fadeIn}`;\nconst BouncyDiv = styled.div`\n  animation: 1s ${bounceAnimation};\n`;\n_c = BouncyDiv;\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = event => {\n      //https://express-app-covid.herokuapp.com/posts/update/${this.state.id_user}\n      fetch(`http://localhost:3001/posts/update/${this.state.id_user}`, {\n        method: 'PUT',\n        headers: {\n          'Accept': 'application/json',\n          \"Content-Type\": \"application/json\"\n        },\n        // We convert the React state to JSON and send it as the POST body\n        //body: \"firstname=\" + this.state.firstname + \"&lastname=\" + this.state.lastname + \"&statut=\" + this.state.statut\n        body: JSON.stringify({\n          firstname: this.state.firstname,\n          lastname: this.state.lastname,\n          statut: this.state.statut\n        })\n      }).then(function (response) {// console.log(response);\n      });\n      event.preventDefault();\n    };\n\n    this.state = {\n      data: [],\n      openModal: false,\n      id_user: '',\n      firstname: '',\n      lastname: '',\n      statut: 'N',\n      activePage: 3\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handlePageChange(pageNumber) {\n    console.log(`active page is ${pageNumber}`);\n    this.setState({\n      activePage: pageNumber\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3001/posts').then(response => {\n      return response.json();\n    }).then(result => {\n      this.setState({\n        data: result\n      }); // console.log(result);\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.state.firstname !== prevProps.firstname) {\n      // https://express-app-covid.herokuapp.com/posts/\n      fetch('http://localhost:3001/posts/').then(response => {\n        return response.json();\n      }).then(result => {\n        this.setState({\n          data: result\n        }); // console.log(result);\n      });\n    }\n  }\n\n  delete(id) {\n    //https://express-app-covid.herokuapp.com/posts/\n    fetch('http://localhost:3001/posts/' + id, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'charset': 'UTF-8'\n      }\n    });\n  }\n\n  showModal(id) {\n    this.setState({\n      openModal: true,\n      id_user: id\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(BouncyDiv, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body overflow-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              class: \"table datatable\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Pr\\xE9nom\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Nom\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Statut\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Action \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: this.state.data.map(empresa => {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: empresa.firstname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: empresa.lastname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 142,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [empresa.statut, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"btn btn-primary\",\n                        onClick: () => this.showModal(empresa._id),\n                        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                          icon: faEdit\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 145,\n                          columnNumber: 131\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 53\n                      }, this), \"    \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"btn btn-danger\",\n                        onClick: () => this.delete(empresa._id),\n                        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                          icon: faTrashAlt\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 147,\n                          columnNumber: 127\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 147,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 144,\n                      columnNumber: 49\n                    }, this), console.log(this.state.count)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 45\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.openModal,\n        \"aria-labelledby\": \"ModalHeader\",\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"\\xC9diter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.handleSubmit,\n            children: /*#__PURE__*/_jsxDEV(\"center\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"input1\",\n                name: \"id_user\",\n                value: this.state.id_user,\n                onChange: this.handleChange,\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"input1\",\n                name: \"firstname\",\n                value: this.state.firstname,\n                onChange: this.handleChange,\n                placeholder: \"Pr\\xE9nom de l'\\xE9tudiant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"input1\",\n                name: \"lastname\",\n                value: this.state.lastname,\n                onChange: this.handleChange,\n                placeholder: \"Nom de l'\\xE9tudiant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"statut\",\n                value: this.state.statut,\n                onChange: this.handleChange,\n                className: \"form-control\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"N\",\n                  children: \"N\\xE9gatif\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"P\",\n                  children: \"Positif\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-success bouton2\",\n                children: \"Envoyer \\xE0 l'API\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [\"ㅤㅤㅤ\", /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            class: \"btn btn-primary\",\n            onClick: () => this.setState({\n              openModal: false\n            }),\n            children: \"Fermer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"BouncyDiv\");","map":{"version":3,"sources":["D:/ECE/Bioloc/src/components/Commercant/Commercant.js"],"names":["React","Component","FontAwesomeIcon","faEdit","faTrashAlt","Modal","styled","keyframes","fadeIn","bounceAnimation","BouncyDiv","div","Form","constructor","props","handleSubmit","event","fetch","state","id_user","method","headers","body","JSON","stringify","firstname","lastname","statut","then","response","preventDefault","data","openModal","activePage","handleChange","bind","handlePageChange","pageNumber","console","log","setState","target","name","value","componentDidMount","json","result","componentDidUpdate","prevProps","delete","id","showModal","render","map","empresa","_id","count"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { Modal } from 'react-bootstrap';\r\n\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nimport { fadeIn } from 'react-animations';\r\n\r\n\r\nconst bounceAnimation = keyframes`${fadeIn}`;\r\n\r\nconst BouncyDiv = styled.div`\r\n  animation: 1s ${bounceAnimation};\r\n`;\r\n\r\nclass Form extends Component {\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n            openModal: false,\r\n            id_user: '',\r\n            firstname: '',\r\n            lastname: '',\r\n            statut: 'N',\r\n            activePage: 3\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n    }\r\n    handlePageChange(pageNumber) {\r\n        console.log(`active page is ${pageNumber}`);\r\n        this.setState({ activePage: pageNumber });\r\n    }\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        fetch('http://localhost:3001/posts')\r\n            .then((response) => {\r\n                return response.json()\r\n            })\r\n\r\n            .then((result) => {\r\n                this.setState({ data: result });\r\n                // console.log(result);\r\n            })\r\n\r\n\r\n    }\r\n\r\n\r\n    handleSubmit = (event) => {\r\n        //https://express-app-covid.herokuapp.com/posts/update/${this.state.id_user}\r\n        fetch(`http://localhost:3001/posts/update/${this.state.id_user}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            // We convert the React state to JSON and send it as the POST body\r\n            //body: \"firstname=\" + this.state.firstname + \"&lastname=\" + this.state.lastname + \"&statut=\" + this.state.statut\r\n            body: JSON.stringify({\r\n                firstname: this.state.firstname,\r\n                lastname: this.state.lastname,\r\n                statut: this.state.statut,\r\n            })\r\n        }).then(function (response) {\r\n            // console.log(response);\r\n        });\r\n        event.preventDefault();\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.state.firstname !== prevProps.firstname) {\r\n            // https://express-app-covid.herokuapp.com/posts/\r\n            fetch('http://localhost:3001/posts/')\r\n                .then((response) => {\r\n                    return response.json()\r\n                })\r\n\r\n                .then((result) => {\r\n                    this.setState({ data: result });\r\n                    // console.log(result);\r\n                })\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n    delete(id) {\r\n        //https://express-app-covid.herokuapp.com/posts/\r\n        fetch('http://localhost:3001/posts/' + id, {\r\n            method: 'DELETE',\r\n\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'charset': 'UTF-8'\r\n            },\r\n\r\n        })\r\n    }\r\n    showModal(id) {\r\n        this.setState({\r\n            openModal: true,\r\n            id_user: id,\r\n        })\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n            <BouncyDiv>\r\n                <div className=\"card\" >\r\n                    <div className=\"card-body overflow-auto\">\r\n                        <table class=\"table datatable\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th scope=\"col\">Prénom</th>\r\n                                    <th scope=\"col\">Nom</th>\r\n                                    <th scope=\"col\">Statut</th>\r\n                                    <th scope=\"col\">Action </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n\r\n\r\n                                    this.state.data.map(empresa => {\r\n\r\n                                        return (\r\n                                            <tr>\r\n                                                <td>{empresa.firstname}</td>\r\n                                                <td>{empresa.lastname}</td>\r\n                                                <td>{empresa.statut} </td>\r\n                                                <td>\r\n                                                    <span className=\"btn btn-primary\" onClick={() => this.showModal(empresa._id)}><FontAwesomeIcon icon={faEdit} /></span>\r\n                                                    {\"    \"}\r\n                                                    <span className=\"btn btn-danger\" onClick={() => this.delete(empresa._id)}><FontAwesomeIcon icon={faTrashAlt} /></span>\r\n                                                </td>\r\n                                                {console.log(this.state.count)}\r\n                                            </tr>\r\n                                        )\r\n\r\n                                    })\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                   </BouncyDiv>\r\n                <Modal show={this.state.openModal} aria-labelledby='ModalHeader'>\r\n                    <Modal.Header>\r\n                        <Modal.Title>Éditer</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <form onSubmit={this.handleSubmit}>\r\n                            <center>\r\n                                <input type=\"text\" className=\"form-control\" id=\"input1\" name=\"id_user\" value={this.state.id_user} onChange={this.handleChange} disabled />\r\n                                <input type=\"text\" className=\"form-control\" id=\"input1\" name=\"firstname\" value={this.state.firstname} onChange={this.handleChange} placeholder=\"Prénom de l'étudiant\" />\r\n                                <input type=\"text\" className=\"form-control\" id=\"input1\" name=\"lastname\" value={this.state.lastname} onChange={this.handleChange} placeholder=\"Nom de l'étudiant\" />\r\n                                <select name=\"statut\" value={this.state.statut} onChange={this.handleChange} className=\"form-control\">\r\n                                    <option value=\"N\" >Négatif</option>\r\n                                    <option value=\"P\" >Positif</option>\r\n                                </select>\r\n                                <button type=\"submit\" className=\"btn btn-success bouton2\">Envoyer à l'API</button>\r\n                            </center>\r\n\r\n                        </form>\r\n                    </Modal.Body>\r\n                    <div className=\"modal-footer\">\r\n                        {\"ㅤㅤㅤ\"}\r\n                        <button type=\"button\" class=\"btn btn-primary\" onClick={() => this.setState({ openModal: false })}>\r\n                            Fermer\r\n                        </button>\r\n\r\n                    </div>\r\n                </Modal>\r\n            </div >\r\n\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default Form;\r\n"]},"metadata":{},"sourceType":"module"}