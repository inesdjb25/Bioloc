{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\ECE\\\\Bioloc\\\\src\\\\components\\\\Admin\\\\Admin.js\";\nimport React, { Component } from 'react';\nimport \"./Admin.css\";\nimport styled, { keyframes } from 'styled-components';\nimport { fadeIn } from 'react-animations';\nimport a_b from 'D:/ECE/Bioloc/src/images/labels/ab_agriculture_biologique.png';\nimport made_in_france from 'D:/ECE/Bioloc/src/images/labels/made_in_france.png';\nimport fair_trade from 'D:/ECE/Bioloc/src/images/labels/fair_trade.png';\nimport emballage from 'D:/ECE/Bioloc/src/images/emballages/emballage.png'; // ECOSCORE\n\nimport eco_a from 'D:/ECE/Bioloc/src/images/ecoscores/A.png';\nimport eco_c from 'D:/ECE/Bioloc/src/images/ecoscores/C.png'; // IMAGE DES LABELS\n\nlet img_1 = \"\";\nlet img_2 = \"\";\nlet img_3 = \"\"; // IMAGE DE L ECO SCORE\n\nlet ecos = \"\";\nconst bounceAnimation = keyframes`${fadeIn}`;\nconst BouncyDiv = styled.div`\n  animation: 1s ${bounceAnimation};\n`;\n_c = BouncyDiv;\n\nfunction set_img(logo) {\n  // Import result is the URL of your image\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    id: \"img-label\",\n    src: logo\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 10\n  }, this);\n}\n\nfunction set_ecoscore(logo) {\n  // Import result is the URL of your image\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    id: \"img-ecoscore\",\n    src: logo\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 10\n  }, this);\n}\n\nclass Admin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      category: this.props.match.params.categoryId,\n      position: this.props.match.params.position,\n      image: '',\n      ecoscore: ''\n    };\n  }\n\n  componentDidMount() {\n    fetch(`https://fr.openfoodfacts.org/label/bio/categorie/${this.state.category}.json`) // fetch(`https://world.openfoodfacts.org/api/v0/product/${this.props.name}.json`)\n    .then(response => {\n      return response.json();\n    }).then(result => {\n      this.setState(result);\n      console.log(result);\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.name !== prevProps.name) {\n      fetch(`https://fr.openfoodfacts.org/label/bio/categorie/${this.state.category}.json`) // fetch(`https://world.openfoodfacts.org/api/v0/product/${this.props.name}.json`)\n      .then(response => {\n        this.setState({\n          products: [{\n            image_url: this.state.products.image_url,\n            labels: this.state.products.labels,\n            packaging: this.state.products.packaging,\n            stores: this.state.products.stores,\n            ecoscore: this.state.products.ecoscore_data.grade\n          }]\n        });\n        return response.json();\n      }).then(result => {\n        this.setState(result);\n        console.log(result);\n      });\n    }\n  }\n\n  render() {\n    console.log(this.state.products);\n\n    if (this.state.products.length > 0) {\n      console.log(this.state.products[this.state.position]);\n      console.log(\"affichage grade\");\n      console.log(this.state.products[this.state.position].ecoscore_grade);\n    }\n\n    if (this.state.products.length > 0 && (this.state.products[this.state.position].labels.includes(\"Agriculture Biologique\") || this.state.products[this.state.position].labels.includes(\"ab-agriculture-biologique\"))) {\n      //console.log(this.state.products[this.state.position].labels.includes(\"Bio\"))\n      img_1 = a_b;\n    }\n\n    if (this.state.products.length > 0 && this.state.products[this.state.position].labels.includes(\"Made in France\")) {\n      //console.log(this.state.products[this.state.position].labels.includes(\"Bio\"))\n      img_2 = made_in_france;\n    }\n\n    if (this.state.products.length > 0 && this.state.products[this.state.position].labels.includes(\"Commerce Ã©quitable\")) {\n      img_3 = fair_trade;\n    } // IMAGE DES ECO SCORE\n\n\n    if (this.state.products.length > 0 && this.state.products[this.state.position].ecoscore_grade == \"c\") {\n      console.log(\"ok\");\n      ecos = eco_c;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"meta\", {\n        charSet: \"utf-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"viewport\",\n        content: \"width=device-width, initial-scale=1, shrink-to-fit=no\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"author\",\n        content: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"icon\",\n        href: \"/docs/4.0/assets/img/favicons/favicon.ico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Carousel Template for Bootstrap\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"canonical\",\n        href: \"https://getbootstrap.com/docs/4.0/examples/carousel/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        href: \"../../dist/css/bootstrap.min.css\",\n        rel: \"stylesheet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        href: \"carousel.css\",\n        rel: \"stylesheet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        role: \"main\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container marketing\",\n          children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"featurette-divider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row featurette\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-7\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"featurette-heading\",\n                children: [this.state.products.length > 0 && this.state.products[this.state.position].product_name, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-muted\",\n                  children: [\" | Cat\\xE9gorie \", this.state.category]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 18\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"lead\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  id: \"lead\",\n                  children: [\"Caract\\xE9ristiques \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 47\n                  }, this), this.state.products.length > 0 && this.state.products[this.state.position].generic_name_fr]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  id: \"lead\",\n                  children: [\"Label : \", this.state.products.length > 0 && this.state.products[this.state.position].labels]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 25\n                }, this), set_img(img_1), set_img(img_2), set_img(img_3), /*#__PURE__*/_jsxDEV(\"p\", {\n                  id: \"lead\",\n                  children: [\"Ce produit est disponible dans les magasins suivant \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 90\n                  }, this), \" : \", this.state.products.length > 0 && this.state.products[this.state.position].stores, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  id: \"lead\",\n                  children: [\"Eco-Score \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 48\n                  }, this), \" : \", this.state.products.length > 0 && this.state.products[this.state.position].ecoscore_grade, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 25\n                }, this), set_ecoscore(ecos)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-5\",\n              children: /*#__PURE__*/_jsxDEV(BouncyDiv, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card mb-5\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-body\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      id: \"fit-picture\",\n                      src: this.state.products.length > 0 && this.state.products[this.state.position].image_url,\n                      alt: \"Grapefruit slice atop a pile of other slices\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"featurette-divider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row featurette\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-7 order-md-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"featurette-heading\",\n                children: [\"Emballage \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-muted\",\n                  children: \"du produit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 62\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"lead\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  id: \"lead\",\n                  children: [this.state.products.length > 0 && this.state.products[this.state.position].packaging, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-5 order-md-1\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                id: \"emballage\",\n                src: emballage,\n                alt: \"emballage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"featurette-divider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row featurette\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-7\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"featurette-heading\",\n                children: [\"And lastly, this one. \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-muted\",\n                  children: \"Checkmate.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 74\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"lead\",\n                children: \"Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-5\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"featurette-image img-fluid mx-auto\",\n                \"data-src\": \"holder.js/500x500/auto\",\n                alt: \"Generic placeholder image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"featurette-divider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Admin;\n\nvar _c;\n\n$RefreshReg$(_c, \"BouncyDiv\");","map":{"version":3,"sources":["D:/ECE/Bioloc/src/components/Admin/Admin.js"],"names":["React","Component","styled","keyframes","fadeIn","a_b","made_in_france","fair_trade","emballage","eco_a","eco_c","img_1","img_2","img_3","ecos","bounceAnimation","BouncyDiv","div","set_img","logo","set_ecoscore","Admin","constructor","props","state","products","category","match","params","categoryId","position","image","ecoscore","componentDidMount","fetch","then","response","json","result","setState","console","log","componentDidUpdate","prevProps","name","image_url","labels","packaging","stores","ecoscore_data","grade","render","length","ecoscore_grade","includes","product_name","generic_name_fr"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport \"./Admin.css\";\r\n\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nimport { fadeIn } from 'react-animations';\r\n\r\nimport a_b from 'D:/ECE/Bioloc/src/images/labels/ab_agriculture_biologique.png';\r\nimport made_in_france from 'D:/ECE/Bioloc/src/images/labels/made_in_france.png';\r\nimport fair_trade from 'D:/ECE/Bioloc/src/images/labels/fair_trade.png' ;\r\n\r\n\r\nimport emballage from 'D:/ECE/Bioloc/src/images/emballages/emballage.png';\r\n\r\n// ECOSCORE\r\nimport eco_a from 'D:/ECE/Bioloc/src/images/ecoscores/A.png';\r\nimport eco_c from 'D:/ECE/Bioloc/src/images/ecoscores/C.png' ;\r\n\r\n// IMAGE DES LABELS\r\nlet img_1 = \"\";\r\nlet img_2 = \"\" ;\r\nlet img_3 = \"\";\r\n\r\n// IMAGE DE L ECO SCORE\r\nlet ecos = \"\" ; \r\n\r\n\r\nconst bounceAnimation = keyframes`${fadeIn}`;\r\n\r\nconst BouncyDiv = styled.div`\r\n  animation: 1s ${bounceAnimation};\r\n`;\r\n\r\n\r\nfunction set_img(logo) {\r\n  // Import result is the URL of your image\r\n  return <img id=\"img-label\" src={logo}  />;\r\n}\r\nfunction set_ecoscore(logo) {\r\n  // Import result is the URL of your image\r\n  return <img id=\"img-ecoscore\" src={logo}  />;\r\n}\r\n\r\nclass Admin extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            products: [],\r\n            category: this.props.match.params.categoryId,\r\n            position: this.props.match.params.position,\r\n            image: '',\r\n            ecoscore : ''\r\n        };\r\n\r\n        \r\n\r\n    }\r\n    componentDidMount() {\r\n\r\n\r\n\r\n        fetch(`https://fr.openfoodfacts.org/label/bio/categorie/${this.state.category}.json`)\r\n            // fetch(`https://world.openfoodfacts.org/api/v0/product/${this.props.name}.json`)\r\n            .then((response) => {\r\n                return response.json()\r\n\r\n            })\r\n\r\n            .then((result) => {\r\n                this.setState(result);\r\n                console.log(result);\r\n\r\n            })\r\n\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n\r\n        if (this.props.name !== prevProps.name) {\r\n            fetch(`https://fr.openfoodfacts.org/label/bio/categorie/${this.state.category}.json`)\r\n                // fetch(`https://world.openfoodfacts.org/api/v0/product/${this.props.name}.json`)\r\n                .then((response) => {\r\n\r\n\r\n                    this.setState({\r\n                        products: [\r\n                            {\r\n                                image_url: this.state.products.image_url ,\r\n                                labels: this.state.products.labels,\r\n                                packaging : this.state.products.packaging,\r\n                                stores : this.state.products.stores,\r\n                                ecoscore : this.state.products.ecoscore_data.grade\r\n\r\n                            }\r\n                        ]\r\n\r\n                    })\r\n\r\n                    return response.json()\r\n\r\n                })\r\n\r\n                .then((result) => {\r\n                    this.setState(result);\r\n                    console.log(result);\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        console.log(this.state.products)\r\n        if(this.state.products.length > 0){\r\n          console.log(this.state.products[this.state.position])\r\n          console.log(\"affichage grade\")\r\n          console.log(this.state.products[this.state.position].ecoscore_grade)\r\n        }\r\n        if (this.state.products.length > 0 && ((this.state.products[this.state.position].labels.includes(\"Agriculture Biologique\")) || (this.state.products[this.state.position].labels.includes(\"ab-agriculture-biologique\")) ) ) {\r\n          //console.log(this.state.products[this.state.position].labels.includes(\"Bio\"))\r\n         img_1 = a_b  ;\r\n         \r\n\r\n        }\r\n         \r\n        if (this.state.products.length > 0 && this.state.products[this.state.position].labels.includes(\"Made in France\") ) {\r\n          //console.log(this.state.products[this.state.position].labels.includes(\"Bio\"))\r\n          img_2 = made_in_france  ;\r\n         \r\n\r\n        }\r\n\r\n        if (this.state.products.length > 0 && this.state.products[this.state.position].labels.includes(\"Commerce Ã©quitable\") ) {\r\n          \r\n          img_3 = fair_trade  ;\r\n         \r\n\r\n        }\r\n\r\n\r\n      // IMAGE DES ECO SCORE\r\n      if(this.state.products.length > 0 && this.state.products[this.state.position].ecoscore_grade == \"c\"){\r\n        console.log(\"ok\")\r\n        ecos = eco_c ;\r\n      }\r\n        \r\n       \r\n\r\n        return (\r\n            <div>\r\n        <meta charSet=\"utf-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" />\r\n        <meta name=\"description\" content />\r\n        <meta name=\"author\" content />\r\n        <link rel=\"icon\" href=\"/docs/4.0/assets/img/favicons/favicon.ico\" />\r\n        <title>Carousel Template for Bootstrap</title>\r\n        <link rel=\"canonical\" href=\"https://getbootstrap.com/docs/4.0/examples/carousel/\" />\r\n        {/* Bootstrap core CSS */}\r\n        <link href=\"../../dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n        \r\n        <link href=\"carousel.css\" rel=\"stylesheet\" />\r\n        \r\n        <main role=\"main\">\r\n          \r\n            \r\n         \r\n          <div className=\"container marketing\">\r\n           \r\n            \r\n           \r\n            <hr className=\"featurette-divider\" />\r\n            <div className=\"row featurette\">\r\n              <div className=\"col-md-7\">\r\n                <h2 className=\"featurette-heading\">\r\n                {this.state.products.length > 0 && this.state.products[this.state.position].product_name}\r\n                 <span className=\"text-muted\"> | CatÃ©gorie {this.state.category}</span></h2>\r\n                <p className=\"lead\">\r\n                \r\n                <p id=\"lead\">CaractÃ©ristiques <br></br>\r\n                {this.state.products.length > 0 && this.state.products[this.state.position].generic_name_fr}\r\n\r\n                </p>\r\n                        <p id=\"lead\">Label : {this.state.products.length > 0 && this.state.products[this.state.position].labels }</p>\r\n                        \r\n                        { \r\n                        set_img(img_1)}\r\n                        { \r\n                        set_img(img_2)}\r\n\r\n{ \r\n                        set_img(img_3)}\r\n                       \r\n                       \r\n                        <p id=\"lead\">Ce produit est disponible dans les magasins suivant <br></br> : {this.state.products.length > 0 && this.state.products[this.state.position].stores} </p>\r\n                        <p id=\"lead\">Eco-Score <br></br> : {this.state.products.length > 0 && this.state.products[this.state.position].ecoscore_grade} </p>\r\n                        {set_ecoscore(ecos)}\r\n                </p>\r\n              </div>\r\n              <div className=\"col-md-5\">\r\n              <BouncyDiv>\r\n                \r\n                <div className=\"card mb-5\">\r\n                    <div className=\"card-body\">\r\n                        <img id=\"fit-picture\" src={this.state.products.length > 0 && this.state.products[this.state.position].image_url} alt=\"Grapefruit slice atop a pile of other slices\" />\r\n\r\n                    </div>\r\n                </div>\r\n            </BouncyDiv>\r\n              </div>\r\n            </div>\r\n            <hr className=\"featurette-divider\" />\r\n            <div className=\"row featurette\">\r\n              <div className=\"col-md-7 order-md-2\">\r\n                <h2 className=\"featurette-heading\">Emballage <span className=\"text-muted\">du produit</span></h2>\r\n                <p className=\"lead\">\r\n                <p id=\"lead\">{this.state.products.length > 0 && this.state.products[this.state.position].packaging} </p>\r\n                </p>\r\n              </div>\r\n              <div className=\"col-md-5 order-md-1\">\r\n                <img id=\"emballage\" src={emballage} alt=\"emballage\" />\r\n              </div>\r\n            </div>\r\n            <hr className=\"featurette-divider\" />\r\n            <div className=\"row featurette\">\r\n              <div className=\"col-md-7\">\r\n                <h2 className=\"featurette-heading\">And lastly, this one. <span className=\"text-muted\">Checkmate.</span></h2>\r\n                <p className=\"lead\">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>\r\n              </div>\r\n              <div className=\"col-md-5\">\r\n                <img className=\"featurette-image img-fluid mx-auto\" data-src=\"holder.js/500x500/auto\" alt=\"Generic placeholder image\" />\r\n              </div>\r\n            </div>\r\n            <hr className=\"featurette-divider\" />\r\n            {/* /END THE FEATURETTES */}\r\n          </div>{/* /.container */}\r\n          \r\n        </main>\r\n        \r\n      </div>\r\n\r\n      \r\n    );\r\n\r\n\r\n    \r\n}\r\n}\r\n\r\nexport default Admin;\r\n"]},"metadata":{},"sourceType":"module"}